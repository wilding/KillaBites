{% extends 'layout.html' %}

{% block title %}{{ super() }} | Edit Wine{% endblock %}

{% block scripts %}
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.0/jquery.min.js"></script>
    <script src="http://ajax.googleapis.com/ajax/libs/jqueryui/1.11.1/jquery-ui.min.js" type="text/javascript"></script>
    <script src="{{url_for('static', filename='wine.js')}}"></script>
    <link rel="stylesheet" type="text/css" href="{{url_for('static', filename='winestyles.css')}}">
{% endblock %}

{% block content %}
    <form action="{{url_for('editWine', wine_id=wine.id)}}" class="edit-recipe-form" method="post" enctype="multipart/form-data">
        <div class="wine-form">
            <div class="wine-form-section">
                <label>Name:<input type="text" name="name" maxlength="9999" value="{{wine.name}}"></label>
                <label>Winery:
                    {% for wnry in wine.winery %}
                        <div class="array-input">
                            <input type="text" name="winery" maxlength="9999" value="{{wnry}}">
                            <i class="fa fa-minus-circle delete" aria-hidden="true"></i>
                            <i class="fa fa-plus-circle add add-winery" aria-hidden="true"></i>
                        </div>
                        {% endfor %}
                </label>
            </div>
            <div class="wine-form-section">
                <label>Variety:
                    {% for vrty in wine.variety %}
                        <div class="array-input">
                            <input type="text" name="variety" maxlength="500" value="{{vrty}}">
                            <i class="fa fa-minus-circle delete" aria-hidden="true"></i>
                            <i class="fa fa-plus-circle add add-variety" aria-hidden="true"></i>
                        </div>
                        {% endfor %}
                </label>
                <label>Region:<input type="text" name="region" maxlength="9999" value="{{wine.region}}"></label>
            </div>
            <div class="wine-form-section">
                <label>Vintage:<input type="number" name="vintage" value="{{wine.vintage}}"></label>
                <label>Rating:<input type="number" name="rating" value="{{wine.rating}}"></label>
            </div>
            <div class="wine-form-section">
                <label>Notes:
                    {% for note in wine.notes %}
                        <div class="array-input">
                            <input type="text" name="notes" maxlength="9999" value="{{note}}">
                            <i class="fa fa-minus-circle delete" aria-hidden="true"></i>
                            <i class="fa fa-plus-circle add add-note" aria-hidden="true"></i>
                        </div>
                        {% endfor %}
                </label>
                <label>Pairings:
                    {% for pairing in wine.pairings %}
                        <div class="array-input">
                            <input type="text" name="pairings" maxlength="9999" value="{{pairing}}">
                            <i class="fa fa-minus-circle delete" aria-hidden="true"></i>
                            <i class="fa fa-plus-circle add add-pairing" aria-hidden="true"></i>
                        </div>
                        {% endfor %}
                </label>
            </div>
            <div class="wine-form-section">
                <label>Picture: {{wine.picture}}<input type="file" name="picture" accept="image/*"></label>
                <label>Label: {{wine.label}}<input type="file" name="label" accept="image/*"></label>
            </div>
            <div class="wine-form-section">
                <label class="checkbox-label"><input type="checkbox" name="sparkling" {% if wine.sparkling %}checked{% endif %}>Sparkling</label>
                <label class="checkbox-label"><input type="checkbox" name="dessert" {% if wine.dessert %}checked{% endif %}>Dessert</label>
                <label class="checkbox-label"><input type="checkbox" name="favorite" {% if wine.favorite %}checked{% endif %}>Favorite</label>
            </div>
            <div class="wine-form-section">
                <button type="submit"><i class="fa fa-check" aria-hidden="true">&nbsp;</i>Submit</button>
                <button type="button" onclick="window.location.assign('{{url_for('winepage')}}');"><i class="fa fa-times" aria-hidden="true">&nbsp;</i>Cancel</button>
            </div>
        </div>
    </form>
{% endblock %}
